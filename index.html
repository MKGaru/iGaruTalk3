<!DOCTYPE html>
<html lang="ja" manifest="./app.appcache">
<head>
	<!-- Meta -->
	<link rel="icon" href="favicon.ico">
	<meta charset="UTF-8">
	<!--
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Cache-Control" content="no-cache">
	-->
	<title>iGaruTalk3</title>
	<meta name="description" content="お手軽なボイスチャットサービスです！　映像通話やファイル転送など、コミュニケーションに必要なツールはいろいろ揃っております！　是非お気軽にお楽しみくださいませ">
	<meta name="author" content="dev@iGaru.com">
	<meta name="viewport" content="width=device-width">
	<!--JSforCSS-->
	<script src="lib/prefixfree.js"></script>
	<!-- CSS/Lib -->
    <link rel="stylesheet" href="lib/font-awesome/css/font-awesome.css"/>
	<link rel="stylesheet" href="lib/kendo-ui/css/kendo.common.min.css" />
	<link rel="stylesheet" href="lib/wysibb/theme/default/wbbtheme.css"/>
	<link rel="stylesheet" href="css/twemoji/twemoji.css"/>
	<link rel="stylesheet" href="css/contextmenu/menu.css"/>
	<style id="theme">/* Dynamic Load Kendo-UI Theme Here */</style>
	<!--CSS-->
	<link rel="stylesheet" href="css/talk.css" />
	<!-- JS/Lib -->
	<script src="lib/sugar.js"></script>
	<script src="lib/jquery.js"></script>
	<script src="lib/mousetrap.js"></script>
	<script src="lib/wysibb/jquery.wysibb.js"></script>
	<script src="lib/kendo-ui/js/kendo.ui.core.js"></script>
	<script src="lib/knockout.js"></script>
	<script src="lib/knockout.punches.js"></script>
	<script src="lib/knockout-es5.js"></script>
    <script src="lib/knockout-else.js"></script>
	<script src="lib/knockout-kendo.js"></script>
	<script src="lib/eventemitter2.js"></script>
	<script src="js/peer.min.js"></script>
	<!--<script src="js/peer-file.js"></script>-->
	<!--<script src="/socket.io/socket.io.js"></script>-->
	<!-- JS -->
	<script src="js/bundle.js"></script>
</head>
<body style="visibility: hidden">
	<header class="header-control">
		<div class="splitter k-toolbar k-widget k-toolbar-resizable" data-bind="kendoTooltip: { filter: 'a.k-button[title]' , width: 150 }">
			<!-- ko with:me -->
			<a class="k-button k-button-icon" title="在席状態を変更" data-bind="click:function(s,e){ status=status=='away'?'online':'away'; if(e.shiftKey)Talk.prompt('メモ設定','',function(d){description=d})}">
				<span class="online32" state="{{status}}"></span>
			</a>
			<a class="k-button k-button-icon" title="マイクの有効/無効を変更" data-bind="on.click: isMicMuted=!isMicMuted">
				<span class="mic32" state="{{hasMicError?'error':(isMicMuted?'disable':'enable')}}"></span>
			</a>
			<a class="k-button k-button-icon" title="映像配信を開始/終了" data-bind="on.click: isCameraMuted=!isCameraMuted">
				<span class="webcam32" state="{{hasCameraError?'error':(isCameraMuted?'disable':'enable')}}"></span>
			</a>
			<!-- /ko -->
			<a class="k-button k-button-icon" title="ファイル転送" data-bind="click:uploadFileSelect">
				<span class="file32"></span>
			</a>
			{{#if:isEnableNW}}
			<a class="k-button k-button-icon" title="スクリーンショット" data-bind="on.click: app.sendNWCmd('capture')">
				<span class="screen32"></span>
			</a>
			{{/if}}
			<a class="k-button k-button-icon" title="ルーム追加" id="addCh">
				<span class="addCh32"></span>
			</a>
			<a class="k-button k-button-icon k-state-disabled" title="ルーム削除" id="removeCh">
				<span class="removeCh32"></span>
			</a>
			<div style="float:right; margin:2px 25px">
				{{#if:!isEnableNW}}
				<a class="k-button k-button-icon" title="アプリダウンロード" href="/client/{{navigator.platform}}/latest/iGaruTalk3.zip" target="_blank">
					<i class="base icon32 icon32-inbox_download"></i><span style="vertical-align: bottom;">専用アプリダウンロード</span>
				</a>
				{{/if}}

				<a class="k-button k-button-icon" title="マスターボリューム" data-bind="click: function(){app.config.masterMute=!app.config.masterMute}">
					<span class="sound32" state="{{app.config.masterMute?'disable':'enable'}}"></span>
				</a>
				<input data-bind="kendoSlider: { value: ko.getObservable(config,'masterVolume') , min:0, max:100, showButtons:false }" style="width: 100px" />
			</div>
		</div>
	</header>
	<div class="main">
		<div class="splitter" data-bind="kendoSplitter: {
			orientation :'vertical',
			panes:[
				{scrollable: false,min:'75px'},
				{scrollable: false,size:'200px',min:'75px'}
			],
			widget: ko.getObservable(widgets,'verticalSplitter')
		}">
			<div class="pane">
				<div class="splitter" data-bind="kendoSplitter: {
					panes:[
						{min:'150px',size:'200px'},
						{scrollable: false,min:'200px'}
					],
					widget: ko.getObservable(widgets,'horizontalSplitter')
				}">
					<div class="pane" style="font-size:75%">
                        <directory-tree params="option:widgets.tree"></directory-tree>
					</div>
					<div class="pane">
						<div class="tabs infos" data-bind="kendoTabStrip: {
							widget: ko.getObservable(widgets,'infoTabs'),
							animation:false
						}">
							<!--タブ項目-->
							<ul>
								<li class="k-state-active" data-tab-name="info"><i class="base icon16 icon16-vcard"></i>情報</li>
								<li data-tab-name="file"><i class="base icon16 icon16-folder_go"></i>ファイル転送</li>
								<li data-tab-name="youtube"><i class="base icon16 icon16-youtube"></i>Youtube</li>
								<li data-tab-name="media"><i class="base icon16 icon16-picture"></i>Media</li>
								<li data-tab-name="option"><i class="base icon16 icon16-page"></i>オプション</li>
								<li data-tab-name="license"><i class="base icon16 icon16-document"></i>License</li>
							</ul>
							<!--タブ内容-->
							<div class="tab-page" data-bind="with:widgets.tree.activeNode">
                                <!-- ko if: $data.children != void 0 -->
                                <dl style="margin:0;height:100%;">
                                    <dt>名称</dt>	        <dd class="name">{{name}}</dd>
									<!-- ko if: $data instanceof Talk.Channel -->
                                    <dt>説明
										<a href="javascript:void 0" data-bind="on.click: editing=!editing" title="{{editing?'保存':'編集'}}"><span style="display:inline-block;width:16px;height:16px;margin-left:0.5em" class="{{editing?'accept16':'edit16'}}"></span></a>
									</dt>
									<dd class="description" style="height: calc( 100% - 5em);">
										<!-- ko if: !editing -->
										<div data-bind="if:$data.note" style="height: 100%"><iframe srcdoc="{{noteHTML}}" style="border: none;outline:none;width: 100%;height:100%" seamless></iframe></div>
										<!-- /ko -->
										<!-- ko else -->
										<textarea id="note-editor" data-bind="value:note" style="width: 100%;min-height: 20em;resize: none;outline: none;border: none;"></textarea>
										<!-- /ko -->
									</dd>
									<!-- /ko -->
                                </dl>
                                <!-- /ko -->
                                <!-- ko else -->
                                <dl style="margin:0">
                                    <dt>ニックネーム</dt>
									<dd class="name">
										<!-- ko if: $data == app.me--><a href="javascript:void 0" data-bind="on.click: Talk.prompt('ニックネーム',name,function(name){$data.name=name})" title="編集"><span class="inline-icon edit16"></span></a><!-- /ko -->
										{{name}}
									</dd>

									<dt>状態</dt>			<dd class="state">{{status}}　{{description?'('+description+')':''}}</dd>
                                    <dt>メッセージ</dt>
									<dd class="description">
										<!-- ko if: $data == app.me--><a href="javascript:void 0" data-bind="on.click: Talk.prompt('メッセージ',note,function(note){$data.note=note})" title="編集"><span class="inline-icon edit16"></span></a><!-- /ko -->
										{{note||'　'}}
									</dd>

									<dt>アバター</dt>
									<dd>
										<!-- ko if: $data == app.me--><a href="javascript:void 0" data-bind="on.click: Talk.prompt('画像URL',avatar,function(avatar){$data.avatar=avatar})" title="編集"><span class="inline-icon edit16"></span></a><!-- /ko -->
										<img data-bind="attr:{src:avatar}" style="max-width:300px;max-height:300px">
									</dd>

                                    <dt>映像</dt>
									<dd>
										<div data-bind="if:isCameraMuted">映像は配信されていません。</div>
										<div data-bind="if:!isCameraMuted">
											<a class="k-button k-button-icon" data-bind="on.click: app.openVideoDialog($data)"><span class="k-sprite screen16" style="vertical-align: baseline;padding-right:2px"></span>映像を閲覧</a>
										</div>
									</dd>
									<!-- ko if: $data != app.me -->
									<dt>通話音量</dt>		<dd><input data-bind="kendoSlider: { value: ko.getObservable($data,'volume') , min:0, max:100, showButtons:false }" style="width: 100px" /></dd>
									<!-- /ko -->
                                </dl>
                                <!-- /ko -->
							</div>
							<div class="tab-page">
								<a class="k-button k-button-icon" title="ファイル転送" data-bind="click:uploadFileSelect">
									<span class="k-sprite file32" style="width:32px;height:32px;"></span>ファイル転送
								</a>
								<input type="file" id="uploadFileSelect" style="display:none">
								<ul data-bind="foreach:fileTransfers" id="filetrans">
									<li>
										<div class="fa fa-close close" title="閉じる" data-bind="on.click: $parent.fileTransfers.splice($parent.fileTransfers.indexOf($data),1)"></div>
										<div class="fileicon ext base ext-file_extension_{{ext}}"></div>
										<dl style="font-size:75%">
											<dt>ファイル名</dt>		<dd data-bind="text: file.name"></dd>
											<dt>サイズ</dt>		<dd data-bind="text: file.size.bytes()"></dd>
											<dt>送信者</dt>		<dd data-bind="text: sender.name"></dd>
											<dt>送信日時</dt>		<dd data-bind="text: time"></dd>
											<dt>{{type=='send'?'アップロード':'ダウンロード'}}</dt>
											<dd>
												{{#if: type=='send'}}
													<div data-bind="foreach:receivers">
														<div style="border-bottom:solid 1px #ccc">
															<progress data-bind="attr:{value:progress},text:progress+'％'" max="100"></progress>
															<span data-bind="if:started" style="display:inline-block;width:3em;text-align: right;">{{progress}}％</span>
															<span style="display: inline-block;width:9em" title="{{user.name}}">( {{user.name}} )</span>
															{{#if: canceled }}
																( キャンセル済 )
															{{/if}}
															{{#elseif: completed }}
																( 完了済 )
															{{/elseif}}
															{{#else}}
																{{#if: paused }}
																<button data-bind="kendoButton: $parent.resume.bind($data)">Resume</button>
																{{/if}}
																{{#else}}
																<button data-bind="kendoButton: $parent.pause.bind($data)">Pause</button>
																{{/else}}
																{{#if: !canceled }}
																<button data-bind="kendoButton: $parent.cancel.bind($data)">Cancel</button>
																{{/if}}
															{{/else}}
														</div>
													</div>
													<div data-bind="if:receivers.length==0">
														受信者がいません
													</div>
												{{/if}}
												{{#else}}
													<progress data-bind="attr:{value:progress},text:progress+'％'" max="100"></progress>
													<span data-bind="if:started" style="display:inline-block;width:3em;text-align: right;">{{progress}}％</span>
													{{#if:!started}}
														<button data-bind="kendoButton: accept">Accept</button>
														<button data-bind="kendoButton: reject">Reject</button>
													{{/if}}
													{{#else}}
														{{#if: canceled }}
															( キャンセルしました )
														{{/if}}
														{{#elseif: completed }}
															( 完了しました )
														{{/elseif}}
														{{#else}}
															{{#if: paused }}
															<button data-bind="kendoButton: resume">Resume</button>
															{{/if}}
															{{#else}}
															<button data-bind="kendoButton: pause">Pause</button>
															{{/else}}
															{{#if: !canceled }}
															<button data-bind="kendoButton: cancel">Cancel</button>
															{{/else}}
														{{/else}}
													{{/else}}
												{{/else}}
											</dd>
										</dl>
										<!--<div class="util">ダウンロードボタンや、ステートなど</div>-->
									</li>
								</ul>
							</div>
							<div class="tab-page youtube no-padding">
                                <div id="youtube-player"></div>
                                <div>
                                    <h4>Youtube</h4>
                                    <span>Youtubeの動画はここで視聴できます。</span>
                                </div>
                                <div class="menu" data-bind="kendoTooltip: { filter: 'i' , width: 70 , position:'top'}">
                                    <i class="fa fa-search" title="動画を検索" id="youtubeSearchButton" data-bind="
                                 click:function(){
                                   setTimeout(function(){$('#youtubeSearch input[type=text]').focus();},100);
                                   widgets.searchWindow.restore();
                                 }"></i>
									<i class="fa fa-chevron-right" title="次の動画へ" data-bind="visible:app.youtube.stock.length>0,click:app.youtube.nextVideo"></i>
                                </div>
                                <div id="youtubeSearch" data-bind="
                                kendoWindow: {
                                    widget: ko.getObservable(widgets,'searchWindow'),
                                    isOpen:false,
                                    actions: ['Minimize'],
                                    title:'動画検索',
                                    position:{top:'51px'},
                                    width:'165px',
                                    height: '495px',
                                    draggable:false,
                                    resizable:false,
                                    animation:false
                                }"
                                >
                                    <input type="text" placeholder="動画キーワード">
                                    <ul>

                                    </ul>
                                </div>
							</div>
							<div class="tab-page no-padding">
								<div id="media">
									<div style="padding:0.5em 1em">
										<h4>Media</h4>
										<span>Youtube以外の動画などはここで確認できます。</span>
									</div>
								</div>
							</div>
							<div class="tab-page" style="padding:0" data-bind="if:app.isReady">
								<ul data-bind="kendoPanelBar: {
									expandMode: 'single'
								}" style="font-size:75%">
									<li data-bind="kendoPanelItem:{expanded:true}">機能設定
										<div style="padding:0.5em">
											<dl>
												<dt>テーマ</dt>
												<dd>
													<input data-bind="kendoDropDownList: { data: options.themes, value: ko.getObservable(config,'theme') }" />
												</dd>
												<dt>挙動設定</dt>
												<dd>
													<label><input type="checkbox" data-bind="checked:config.picturePopup" />画像リンクの自動ポップアップ</label>
												</dd>
												<dt>TTS設定 (テキスト読上げ）</dt>
												<dd>
													<div data-bind="if:app.isEnableNW">
														<label><input type="radio" name="tts" value="bouyomi::50001" data-bind="checked:config.tts">棒読みちゃん</label>
													</div>
													<div><label><input type="radio" name="tts" value="wss"            data-bind="checked:config.tts">Web Speech Synthesis</label></div>
													<div><label><input type="radio" name="tts" value="disabled"      data-bind="checked:config.tts">無効</label></div>
												</dd>
											</dl>
										</div>
									</li>
									<li>マイク
										<div style="padding:0.5em">
											<dl>
												<dt>デバイス</dt>
												<dd>
													<input data-bind="kendoDropDownList: {
														data: options.mics,
														value: ko.getObservable(config,'mic') ,
														dataTextField:'name' ,
														dataValueField:'id'
													}" style="width:100%;man-width:30em"/>
												</dd>
												<dt>マイクブースト</dt>
												<dd style="margin:0.5em 60px">
													<input data-bind="kendoSlider: {
														value:ko.getObservable(config,'micBoost'),
														min: 10,
														max: 500,
														smallStep:1,
														largeStep:5,
														tooltip:{
															format: '{0}%'
														},
														showButtons:false
													}"  style="margin-bottom:1em"/>
												</dd>
												<dt>音声検知方式</dt>
												<dd>
													<div data-bind="if:app.isEnableNW">
														<label><input type="radio" name="mic-mode" value="ptt" data-bind="checked:config.micMode"/>Push To Talk : 指定ボタンが押された際にマイクを有効にします。</label>
														<div data-bind="if:config.micMode=='ptt'" style="margin-left:2em">
															<button data-bind="kendoButton:app.updatePTTHotkey">キー設定</button>: ( {{config.hotkey||'未設定'}} )
														</div>
													</div>
													<div>
														<label><input type="radio" name="mic-mode" value="detection" data-bind="checked:config.micMode"/>音声有効検出 : 指定音量以上を検知した際にマイクを有効にします。</label>
														<div data-bind="if:config.micMode=='detection'" style="margin-left:2em">
															<div>
																<div style="width:200px;height:4px;position:relative">
																	<div style="height:4px;background:darkblue" data-bind="style:{width:(currentMicLevel/80)*100+'%'}"></div>
																</div>
															</div>
															<input data-bind="kendoSlider: {
																value: ko.getObservable(config,'vadLevel'),
																min: 0,
																max: 80,
																smallStep:1,
																largeStep:10,
																showButtons:false
															}" style="margin-bottom:1em"/>
														</div>
													</div>
													<div>
														<label><input type="radio" name="mic-mode" value="always" data-bind="checked:config.micMode"/>常に有効 : マイクがミュートになっていない限りマイクを有効にします。</label>

													</div>
												</dd>
											</dl>
										</div>
									</li>
									<li>カメラ
										<div style="padding:0.5em">
											<dl>
												<dt>デバイス</dt>
												<dd>
													<input data-bind="kendoDropDownList: {
														data: options.cameras,
														value: ko.getObservable(config,'camera') ,
														dataTextField:'name' ,
														dataValueField:'id'
													}"  style="min-width:15em" />
												</dd>
											</dl>
										</div>
									</li>
								</ul>
							</div>
							<div class="tab-page">
								<h4>License</h4>
                                <div style="font-size:75%">
                                    <div>Copyright (c) 2015 iGaru
										<img src="./img/logo.png" style="float: right;height: 3em;margin-top: -1.5em;">
									</div>
                                    <p>以下に定める条件に従い、本ソフトウェアおよび関連文書のファイル（以下「ソフトウェア」）の複製を取得するすべての人に対し、ソフトウェアを無制限に扱うことを無償で許可します。これには、ソフトウェアの複製を使用、複写、変更、結合、掲載、頒布、サブライセンス、および/または販売する権利、およびソフトウェアを提供する相手に同じことを許可する権利も無制限に含まれます。</p>
                                    <p>上記の著作権表示および本許諾表示を、ソフトウェアのすべての複製または重要な部分に記載するものとします。</p>
                                    <p>ソフトウェアは「現状のまま」で、明示であるか暗黙であるかを問わず、何らの保証もなく提供されます。ここでいう保証とは、商品性、特定の目的への適合性、および権利非侵害についての保証も含みますが、それに限定されるものではありません。 作者または著作権者は、契約行為、不法行為、またはそれ以外であろうと、ソフトウェアに起因または関連し、あるいはソフトウェアの使用またはその他の扱いによって生じる一切の請求、損害、その他の義務について何らの責任も負わないものとします。</p>
                                </div>
                                <h5 style="margin:0">3rd Party License</h5>
								<dl>
									<dt><div style="display: inline-block;height:32px;width:32px"></div><!--<img src="img/icon32/fatcow.png">--><span style="line-height:32px;vertical-align: top;">FatCow Icon:</span> </dt>
									<dd style="font-size:75%">www.fatcow.com/free-icons<br><span>( Creative Commons Attribution 3.0 License )</span><hr></dd>

									<dt><div style="display: inline-block;height:32px;width:32px"></div><!--<img src="./css/twemoji/img/36x36/1f60a.png" height="32">--><span style="line-height:32px;vertical-align: top;">twemoji:</span></dt>
									<dd style="font-size:75%">twitter.github.io/twemoji/<br><span>( Code licensed under MIT. Graphics licensed under CC-BY )</span><hr></dd>

									<dt><div style="display: inline-block;height:32px;width:32px"></div><span style="line-height:32px;vertical-align: top;">SkyWay:</span> </dt>
									<dd style="font-size:75%">nttcom.github.io/skyway/<br><span>( Code licensed under MIT , NTT )</span><hr></dd>
								</dl>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="pane">
				<div class="tabs text-messages" data-bind="kendoTabStrip: {
					widget: ko.getObservable(widgets,'textMessageTabs'),
					animation: false
				}">
				</div>
			</div>
		</div>
	</div>
	<footer class="k-block">
        <div data-bind="
        style:{visibility:
        	activeTextTab&&
        	(activeTextTab.channel ? activeTextTab.channel.canSend : !activeTextTab.disabled)
        		?'visible'
        		:'hidden'
        }">
			<i class="input-emoji fa fa-smile-o" title="絵文字" data-bind="click:function(){
				widgets.emojiWindow.open();
				app.widgets.emojiWindow.wrapper.css({
				  bottom:'50px',
				  top:'inherit',
				  left:'inherit',
				  right:'7px'
				});
			}"></i>
            <div rows="{{1+(app.input||'').split('').count('\n')}}" class="text k-input" style="min-height:2em;cursor:text" placeholder="チャットでの発言内容を入力..." data-bind="
           textInput: input,
           event:{
             keydown:function(data,event){
               var logs = app.activeTextTab.inputLogs;
               if(event.keyCode ==38 || event.keyCode == 40){
                 input = event.target.innerHTML;
                 if(event.keyCode == 38){
                   var prev = logs[logs.indexOf(input)-1];
                   if(prev) input = prev;
                   if(input=='') input= logs.last();
                 }
                 if(event.keyCode ==40 && input){
                   var next = logs[logs.indexOf(input)+1];
                   if(next) input = next;
                   else input = '';
                 }
                 input = replaceEmoji(input);
                 event.target.innerHTML = input;
                 var range = document.createRange();
                 var sel = window.getSelection();
                 if(event.target.childNodes.length){
                 		range.setStart(
                 			event.target.childNodes[event.target.childNodes.length-1],
                 			event.target.childNodes[event.target.childNodes.length-1].length
                 		)
                 		range.collapse(true);
                 		sel.removeAllRanges();
                 		sel.addRange(range);
                 }
					return false;
               }
               return true;
             },
             keypress:function(data,event){
               if(event.keyCode == 13 && !event.shiftKey){
               	$('img[data-code]',$(event.target)).each(function(){
						$(this).replaceWith('twemoji[' + $(this).data('code') + ']')
					});
					$('br',$(event.target)).each(function(){
						$(this).replaceWith('\n');
					});
                 input = event.target.innerHTML.replace(/\/div><div/g,'/div><br><div');
                 input = event.target.innerHTML.replace(/\/li><li/g,'/li><br><li');
                 sendMessage(input);
                 input = '';
                 event.target.innerHTML = input;
                 return false;
               }

               return true;
             },
             paste:function(data,event){
               setTimeout(function(){
                 /*event.target.innerHTML = event.target.innerHTML.stripTags();*/
               },1);

               return true;
             }
           }
           " contenteditable></div>
        </div>

        <div class="info">
            <span>version:{{version}}</span>
            <span style="float: right">Copyright(C)2015 iGaru All Rights Reserved.</span>
        </div>
	</footer>
	<!-- Widgets  -->
    <div>
		<div data-bind="kendoWindow: {
			widget: ko.getObservable(widgets,'loginWindow'),
			isOpen: true,
			visible: true,
			title: '<span style=\'font-size:75%\'>サーバ選択</span>',
			actions: [],
			position:{top:'-25%',left:'-25%'},
			draggable:false,
			resizable:false,
			width: '350px',
			height: '180px',
			modal: true
		}">
			<dl style="font-size: 85%;margin:0"><!--
				<dt>以前の設定</dt>
				<dd>
					<select data-bind="
						options:Talk.Config.list ,
						optionsText: 'server',
						value: config
					"></select>
				</dd>-->
				<dt>接続先</dt>
				<dd>
					<input type="text" placeholder="任意の3-20文字のサーバ名" data-bind="value:config.server" style="width:calc(100% - 2em)"/>
				</dd>
				<dt>ユーザ名</dt>
				<dd>
					<input type="text" placeholder="任意のユーザ名" data-bind="
						value:config.user.name,
						event:{
							keypress:function(data,event){
               				if(event.keyCode == 13)
               					init();
               				return true;
               			}
						}" style="width:calc(100% - 2em)"/>
				</dd>
				<dt></dt>
				<dd>

					<br>
					<button data-bind="kendoButton: init" style="width: calc( 100% - 30px );">接続</button>
				</dd>
			</dl>

		</div>

        <span data-bind="kendoNotification: {
            info: notification.info,
            warning: notification.warning,
            success: notification.success,
            error: notification.error
        }"></span>
        <div data-bind="
            kendoWindow: {
                widget: ko.getObservable(widgets,'pictureWindow'),
                isOpen:false,
                actions: ['Close'],
                title:'Picture',
                position:{top:'51px'},
                draggable:true,
                resizable:false
            }
        " class="no-padding" style="display: none">
        </div>
		<div data-bind="
            kendoWindow: {
                widget: ko.getObservable(widgets,'emojiWindow'),
                isOpen:false,
                actions: ['Close'],
                title:'',
                position:{top:'51px'},
                draggable:false,
                resizable:false,
                width: '350px',
                animation:false
            }
        " class="no-padding">
			<ul class="twemoji-list" data-bind="foreach:Talk.Emoji.twemoji.first(105)">
				<li data-code="{{code}}" title="{{meta[2]}}" data-bind="click:Talk.Emoji.insertEmoji(code)">
					<i class="twemoji twemoji-{{code}}"></i>
				</li>
			</ul>
		</div>
    </div>
</body>
</html>
